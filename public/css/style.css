/* ==========================================================================
   Local Community Portal — Clean, consolidated stylesheet
   ========================================================================== */

/* 1) Variables & Reset */
:root{
  --brand-blue: #007bff;
  --text-color: #333;
  --light-text: #666;

  --bg-card: #fff;
  --border: #e0e0e0;
  --radius: 8px;
  --shadow: 0 4px 12px rgba(0,0,0,.08);

  /* area titles only */
  --area-title-purple: #6d28d9;
  --area-title-purple-hover: #5b21b6;
}
*{ box-sizing:border-box; margin:0; padding:0; }
img,video{ max-width:100%; height:auto; }

body{
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  line-height:1.6; color:var(--text-color);
  background:url('/images/background.jpg') center/cover no-repeat fixed;
  min-height:100vh; display:flex; flex-direction:column;
}
main{ flex:1; }
.container{ max-width:1100px; margin:0 auto; padding:0 1rem; }

/* 2) Header & Navigation */
header{
  background:rgba(255,255,255,.9);
  backdrop-filter: blur(5px);
  border-bottom:1px solid var(--border);
  padding:1rem 0; position:sticky; top:0; z-index:10;
}
header .container{ display:flex; align-items:center; gap:1rem; justify-content:space-between; }
.site-nav .brand{ color:#6b7280; font-weight:800; font-size:clamp(22px,2.4vw,32px); text-decoration:none; }
.site-nav .brand:hover{ color:#374151; }
.nav-links{ display:flex; gap:18px; }
header nav a{
  text-decoration:none; color:var(--light-text); font-weight:600;
  padding-bottom:.25rem; border-bottom:2px solid transparent; transition:color .2s, border-color .2s;
}
header nav a:hover{ color:var(--text-color); }
header nav a.active{ color:var(--brand-blue); border-bottom-color:var(--brand-blue); }
.nav-toggle{ display:none; }

/* 3) Generic UI */
.card{
  background:var(--bg-card); border:1px solid var(--border);
  border-radius:var(--radius); padding:1.5rem; box-shadow:var(--shadow);
  transition: transform .2s, box-shadow .2s;
}
.card:hover{ transform:translateY(-5px); box-shadow:0 6px 20px rgba(0,0,0,.1); }
a.card{ color:inherit; text-decoration:none; }
.card h3{ margin-bottom:.5rem; }
.card .meta{ color:var(--light-text); font-size:.9rem; margin-bottom:1rem; }

.btn{ display:inline-block; border-radius:var(--radius); text-decoration:none; font-weight:600; }
.btn.btn-primary{ background:var(--brand-blue); color:#fff; padding:.8rem 1.2rem; }
.btn.btn-primary:hover{ background:#0056b3; }

.error-message{ color:#b91c1c; margin-top:.5rem; }
.input-error{ border-color:#ef4444 !important; outline:2px solid rgba(239,68,68,.25); }

/* 4) Home — Intro */
.intro-panel{ background:#f5f7fb; padding:3rem 0; }
.intro-copy{ max-width:720px; margin:0 auto; text-align:center; }
.intro-copy .lead{ color:var(--light-text); margin:.5rem 0 1rem; }

/* 5) Home — Events */
.intro-events-block{ padding:1rem 0 2rem; }
.card.highlight{ border:1px solid var(--border); }
.eyebrow{ text-transform:uppercase; font-size:.75rem; letter-spacing:.06em; color:#6b7280; margin-bottom:.25rem; }
.card-title{ margin:.25rem 0 .5rem; }
.upcoming-mini{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px; }
.card.mini{ padding:1rem; }
/* event links purple+underline for consistency; only affects event titles */
.intro-events-block .card a,
.intro-events-block .card a:visited{ color:#6d28d9; text-decoration:underline; }
.intro-events-block .card a:hover{ color:#5b21b6; }

/* 6) Reusable page panel (Areas/Events/Contact/etc.) */
.page-content{
  background:rgba(255,255,255,.9);
  backdrop-filter: blur(4px);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:1.5rem; margin:2rem auto;
}
.page-content h1{ margin-bottom:1rem; }

/* grid used by areas/events */
.card-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
@media (max-width:1024px){ .card-grid{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:640px){  .card-grid{ grid-template-columns:1fr; } }

/* 7) Home — Areas */
.areas-panel{ padding:2rem 0; }
.areas-panel-inner{
  background:rgba(255,255,255,.9);
  backdrop-filter: blur(4px);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:1.5rem;
}
.areas-panel h2, .areas-panel .muted{ text-align:center; }
.areas-panel .muted{ color:var(--light-text); margin-bottom:1rem; }
.areas-wrap{ max-width:920px; margin:0 auto; }
.areas-grid-2x2{ display:grid; grid-template-columns:repeat(2, minmax(260px,1fr)); gap:16px; }
/* only titles are purple+underlined */
.area-card{ text-align:left; }
.area-card h3{ color:var(--area-title-purple); text-decoration:underline; transition:color .2s; }
.area-card:hover h3{ color:var(--area-title-purple-hover); }

/* 8) Events page (filters/pager) */
.filters{ display:flex; flex-direction:column; gap:12px; margin-bottom:12px; }
.filters-row{ display:flex; flex-wrap:wrap; align-items:flex-end; gap:12px; }
.filters-row label{ display:flex; flex-direction:column; gap:6px; font-weight:600; }
.filters-row select,
.filters-row input[type="search"],
.filters-row input[type="text"]{
  padding:10px 12px; border:1px solid var(--border);
  border-radius:var(--radius); background:#fff; min-width:180px;
}
.filters-row .checkbox{ flex-direction:row; align-items:center; gap:8px; font-weight:500; }
.filters-row input[type="search"]{ width:100%; }
.grow{ flex:1 1 320px; }
.pager{ margin-left:auto; display:flex; gap:8px; }
.pager button{
  background:#f3f4f6; color:#111827; border:1px solid #e5e7eb;
  padding:.55rem .9rem; border-radius:8px; cursor:pointer;
}
.pager button:hover{ background:#e5e7eb; }

/* event status chips */
.badge{ display:inline-block; padding:.25rem .5rem; border-radius:9999px; font-size:.75rem; line-height:1; }
.badge-upcoming{ background:#e6ffed; color:#065f46; border:1px solid #a7f3d0; }
.badge-past{ background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }

/* 9) Contact */
.contact-form{ max-width:720px; }
.page-content .form-group + .form-group{ margin-top:1rem; }
.success-message{
  color:#166534; background:#ecfdf5; border:1px solid #a7f3d0;
  padding:1rem; border-radius:var(--radius); margin-top:.75rem;
}

/* 10) Activity (quiz) */
.page-content.activity{ padding:2rem 1rem; }
#quiz.card{
  max-width:760px; margin:0 auto; padding:1rem 1.25rem;
  border-radius:6px; box-shadow:0 2px 8px rgba(0,0,0,.06);
}
#quiz h2{ font-size:1.25rem; line-height:1.35; margin-bottom:.75rem; font-weight:700; }
#quiz .grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:8px; }
@media (max-width:720px){ #quiz .grid{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
#quiz .grid button{
  background:#f9fafb; color:#111827; border:1px solid #d1d5db;
  border-radius:6px; padding:.65rem .75rem; font-weight:600;
  transition:background .15s, border-color .15s, transform .05s; cursor:pointer;
}
#quiz .grid button:hover{ background:#eef2ff; border-color:#c7d2fe; }
#quiz .grid button:active{ transform:translateY(1px); }
#quiz .grid button:focus{ outline:2px solid #a5b4fc; outline-offset:2px; }
#quiz .grid button.correct{ background:#ecfdf5; border-color:#34d399; color:#065f46; }
#quiz .grid button.wrong{ background:#fef2f2; border-color:#fca5a5; color:#991b1b; }
.quiz-stats{ max-width:760px; margin:12px auto 0; padding:.75rem 1rem; border:1px solid #e5e7eb; border-radius:6px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,.06); display:flex; gap:.75rem; align-items:center; }
.quiz-stats #restart{ background:#111827; border-radius:8px; padding:.55rem 1rem; color:#fff; }
.quiz-stats #restart:hover{ background:#0f172a; }

/* 11) Footer */
footer{ text-align:center; padding:2rem 0; color:#fff; text-shadow:1px 1px 4px rgba(0,0,0,.8); }

/* 12) Utilities */
.skip-link{ position:absolute; left:-9999px; top:0; background:#000; color:#fff; padding:8px 12px; border-radius:4px; z-index:1000; }
.skip-link:focus{ left:8px; }

/* 13) Responsive */
@media (max-width:900px){
  .upcoming-mini{ grid-template-columns:1fr; }
  .areas-grid-2x2{ grid-template-columns:1fr; }
}
@media (max-width:720px){
  .nav-toggle{ display:inline-flex; width:56px; height:56px; border:0; border-radius:14px; background:#1d4ed8; color:#fff; font-size:22px; align-items:center; justify-content:center; }
  .nav-links{ display:none; flex-direction:column; width:100%; margin-top:10px; }
  .nav-links.is-open{ display:flex; }
}
@media (prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important; }
}

/* === Contact page polish (panel spacing, inputs, messages) === */
.contact-form { max-width: 720px; }

.contact-form .form-group + .form-group {
  margin-top: 1rem;
}

.contact-form input,
.contact-form textarea {
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: .75rem .85rem;
}

.contact-form button[type="submit"] {
  margin-top: .75rem;
}

.page-content .muted {
  color: var(--light-text);
}

/* Inline error area shown by script.js setError() */
#error-message, #form-error {
  margin-top: .5rem;
}

/* Success state when script sets a ✓ message */
#form-error:has(> .ok), /* fallback below for browsers without :has */
.success-message {
  color: #166534;
  background: #ecfdf5;
  border: 1px solid #a7f3d0;
  padding: 1rem;
  border-radius: var(--radius);
}

/* Basic fallback: if script sets plain text like "✅ Thanks!" */
#form-error {
  background: #fff;
  border-left: 3px solid transparent;
  padding: .5rem 0;
}

/* === Contact page — roomy panel, inline rows, full-width inputs === */
.contact-form.page-content{
  padding: 2rem 2rem;                /* more breathing room in the panel */
}

.contact-form form{
  max-width: 720px;                  /* comfortable line length */
  margin: 0 auto;                    /* center the form */
}

/* Put each label + control on one line */
.contact-form .form-group{
  display: grid;
  grid-template-columns: 160px 1fr;  /* label | input */
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.contact-form .form-group label{
  margin: 0;                         /* since label sits inline now */
  font-weight: 600;
}

/* Make controls stretch nicely */
.contact-form .form-group input,
.contact-form .form-group textarea{
  width: 100%;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: .75rem .85rem;
}

/* Button alignment under the inputs */
.contact-form button[type="submit"]{
  margin-top: .5rem;
  justify-self: start;               /* aligns to left column edge */
  grid-column: 2;                    /* sits under the inputs column */
  padding: .8rem 1.2rem;
  background: var(--brand-blue);
  color: #fff;
  border: 0;
  border-radius: var(--radius);
  font-weight: 600;
  cursor: pointer;
}
.contact-form button[type="submit"]:hover{
  background: #0056b3;
}

/* Error/success block spacing */
#form-error{
  margin: 0 auto 12px;
  max-width: 720px;
}

/* Stack nicely on mobile */
@media (max-width: 700px){
  .contact-form .form-group{
    grid-template-columns: 1fr;      /* label on top, input below */
    gap: 6px;
  }
  .contact-form button[type="submit"]{
    grid-column: 1;
    width: 100%;
  }
}
