/* ==========================================================================
   Local Community Portal — Clean, consolidated stylesheet
   ========================================================================== */

/* 1) Variables & Reset */
:root{
  --brand-blue: #007bff;
  --text-color: #333;
  --light-text: #666;

  --bg-card: #fff;
  --border: #e0e0e0;
  --radius: 8px;
  --shadow: 0 4px 12px rgba(0,0,0,.08);

  /* area titles only */
  --area-title-purple: #6d28d9;
  --area-title-purple-hover: #5b21b6;
}
*{ box-sizing:border-box; margin:0; padding:0; }
img,video{ max-width:100%; height:auto; }

body{
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  line-height:1.6; color:var(--text-color);
  background:url('/images/background.jpg') center/cover no-repeat fixed;
  min-height:100vh; display:flex; flex-direction:column;
}
main{ flex:1; }
.container{ max-width:1100px; margin:0 auto; padding:0 1rem; }

/* 2) Header & Navigation */
header{
  background:rgba(255,255,255,.9);
  backdrop-filter: blur(5px);
  border-bottom:1px solid var(--border);
  padding:1rem 0; position:sticky; top:0; z-index:10;
}
header .container{ display:flex; align-items:center; gap:1rem; justify-content:space-between; }
.site-nav .brand{ color:#6b7280; font-weight:800; font-size:clamp(22px,2.4vw,32px); text-decoration:none; }
.site-nav .brand:hover{ color:#374151; }
.nav-links{ display:flex; gap:18px; }
header nav a{
  text-decoration:none; color:var(--light-text); font-weight:600;
  padding-bottom:.25rem; border-bottom:2px solid transparent; transition:color .2s, border-color .2s;
}
header nav a:hover{ color:var(--text-color); }
header nav a.active{ color:var(--brand-blue); border-bottom-color:var(--brand-blue); }
.nav-toggle{ display:none; }

/* 3) Generic UI */
.card{
  background:var(--bg-card); border:1px solid var(--border);
  border-radius:var(--radius); padding:1.5rem; box-shadow:var(--shadow);
  transition: transform .2s, box-shadow .2s;
}
.card:hover{ transform:translateY(-5px); box-shadow:0 6px 20px rgba(0,0,0,.1); }
a.card{ color:inherit; text-decoration:none; }
.card h3{ margin-bottom:.5rem; }
.card .meta{ color:var(--light-text); font-size:.9rem; margin-bottom:1rem; }

.btn{ display:inline-block; border-radius:var(--radius); text-decoration:none; font-weight:600; }
.btn.btn-primary{ background:var(--brand-blue); color:#fff; padding:.8rem 1.2rem; }
.btn.btn-primary:hover{ background:#0056b3; }

.error-message{ color:#b91c1c; margin-top:.5rem; }
.input-error{ border-color:#ef4444 !important; outline:2px solid rgba(239,68,68,.25); }

/* 4) Home — Intro */
.intro-panel{ background:#f5f7fb; padding:3rem 0; }
.intro-copy{ max-width:720px; margin:0 auto; text-align:center; }
.intro-copy .lead{ color:var(--light-text); margin:.5rem 0 1rem; }

/* 5) Home — Events */
.intro-events-block{ padding:1rem 0 2rem; }
.card.highlight{ border:1px solid var(--border); }
.eyebrow{ text-transform:uppercase; font-size:.75rem; letter-spacing:.06em; color:#6b7280; margin-bottom:.25rem; }
.card-title{ margin:.25rem 0 .5rem; }
.upcoming-mini{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:12px; }
.card.mini{ padding:1rem; }
/* event links purple+underline for consistency; only affects event titles */
.intro-events-block .card a,
.intro-events-block .card a:visited{ color:#6d28d9; text-decoration:underline; }
.intro-events-block .card a:hover{ color:#5b21b6; }

/* 6) Reusable page panel (Areas/Events/Contact/etc.) */
.page-content{
  background:rgba(255,255,255,.9);
  backdrop-filter: blur(4px);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:1.5rem; margin:2rem auto;
}
.page-content h1{ margin-bottom:1rem; }

/* grid used by areas/events */
.card-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
@media (max-width:1024px){ .card-grid{ grid-template-columns:repeat(2,1fr); } }
@media (max-width:640px){  .card-grid{ grid-template-columns:1fr; } }

/* 7) Home — Areas */
.areas-panel{ padding:2rem 0; }
.areas-panel-inner{
  background:rgba(255,255,255,.9);
  backdrop-filter: blur(4px);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:1.5rem;
}
.areas-panel h2, .areas-panel .muted{ text-align:center; }
.areas-panel .muted{ color:var(--light-text); margin-bottom:1rem; }
.areas-wrap{ max-width:920px; margin:0 auto; }
.areas-grid-2x2{ display:grid; grid-template-columns:repeat(2, minmax(260px,1fr)); gap:16px; }
/* only titles are purple+underlined */
.area-card{ text-align:left; }
.area-card h3{ color:var(--area-title-purple); text-decoration:underline; transition:color .2s; }
.area-card:hover h3{ color:var(--area-title-purple-hover); }

/* 8) Events page (filters/pager) */
.filters{ display:flex; flex-direction:column; gap:12px; margin-bottom:12px; }
.filters-row{ display:flex; flex-wrap:wrap; align-items:flex-end; gap:12px; }
.filters-row label{ display:flex; flex-direction:column; gap:6px; font-weight:600; }
.filters-row select,
.filters-row input[type="search"],
.filters-row input[type="text"]{
  padding:10px 12px; border:1px solid var(--border);
  border-radius:var(--radius); background:#fff; min-width:180px;
}
.filters-row .checkbox{ flex-direction:row; align-items:center; gap:8px; font-weight:500; }
.filters-row input[type="search"]{ width:100%; }
.grow{ flex:1 1 320px; }
.pager{ margin-left:auto; display:flex; gap:8px; }
.pager button{
  background:#f3f4f6; color:#111827; border:1px solid #e5e7eb;
  padding:.55rem .9rem; border-radius:8px; cursor:pointer;
}
.pager button:hover{ background:#e5e7eb; }

/* event status chips */
.badge{ display:inline-block; padding:.25rem .5rem; border-radius:9999px; font-size:.75rem; line-height:1; }
.badge-upcoming{ background:#e6ffed; color:#065f46; border:1px solid #a7f3d0; }
.badge-past{ background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }

/* 9) Contact */
.contact-form{ max-width:720px; }
.page-content .form-group + .form-group{ margin-top:1rem; }
.success-message{
  color:#166534; background:#ecfdf5; border:1px solid #a7f3d0;
  padding:1rem; border-radius:var(--radius); margin-top:.75rem;
}

/* 10) Activity (quiz) */
.page-content.activity{ padding:2rem 1rem; }
#quiz.card{
  max-width:760px; margin:0 auto; padding:1rem 1.25rem;
  border-radius:6px; box-shadow:0 2px 8px rgba(0,0,0,.06);
}
#quiz h2{ font-size:1.25rem; line-height:1.35; margin-bottom:.75rem; font-weight:700; }
#quiz .grid{ display:grid; grid-template-columns:repeat(3, minmax(0,1fr)); gap:8px; }
@media (max-width:720px){ #quiz .grid{ grid-template-columns:repeat(2, minmax(0,1fr)); } }
#quiz .grid button{
  background:#f9fafb; color:#111827; border:1px solid #d1d5db;
  border-radius:6px; padding:.65rem .75rem; font-weight:600;
  transition:background .15s, border-color .15s, transform .05s; cursor:pointer;
}
#quiz .grid button:hover{ background:#eef2ff; border-color:#c7d2fe; }
#quiz .grid button:active{ transform:translateY(1px); }
#quiz .grid button:focus{ outline:2px solid #a5b4fc; outline-offset:2px; }
#quiz .grid button.correct{ background:#ecfdf5; border-color:#34d399; color:#065f46; }
#quiz .grid button.wrong{ background:#fef2f2; border-color:#fca5a5; color:#991b1b; }
.quiz-stats{ max-width:760px; margin:12px auto 0; padding:.75rem 1rem; border:1px solid #e5e7eb; border-radius:6px; background:#fff; box-shadow:0 2px 8px rgba(0,0,0,.06); display:flex; gap:.75rem; align-items:center; }
.quiz-stats #restart{ background:#111827; border-radius:8px; padding:.55rem 1rem; color:#fff; }
.quiz-stats #restart:hover{ background:#0f172a; }

/* 11) Footer */
footer{ text-align:center; padding:2rem 0; color:#fff; text-shadow:1px 1px 4px rgba(0,0,0,.8); }

/* 12) Utilities */
.skip-link{ position:absolute; left:-9999px; top:0; background:#000; color:#fff; padding:8px 12px; border-radius:4px; z-index:1000; }
.skip-link:focus{ left:8px; }

/* 13) Responsive */
@media (max-width:900px){
  .upcoming-mini{ grid-template-columns:1fr; }
  .areas-grid-2x2{ grid-template-columns:1fr; }
}
@media (max-width:720px){
  .nav-toggle{ display:inline-flex; width:56px; height:56px; border:0; border-radius:14px; background:#1d4ed8; color:#fff; font-size:22px; align-items:center; justify-content:center; }
  .nav-links{ display:none; flex-direction:column; width:100%; margin-top:10px; }
  .nav-links.is-open{ display:flex; }
}
@media (prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important; }
}

/* === Contact page polish (panel spacing, inputs, messages) === */
.contact-form { max-width: 720px; }

.contact-form .form-group + .form-group {
  margin-top: 1rem;
}

.contact-form input,
.contact-form textarea {
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: .75rem .85rem;
}

.contact-form button[type="submit"] {
  margin-top: .75rem;
}

.page-content .muted {
  color: var(--light-text);
}

/* Inline error area shown by script.js setError() */
#error-message, #form-error {
  margin-top: .5rem;
}

/* Success state when script sets a ✓ message */
#form-error:has(> .ok), /* fallback below for browsers without :has */
.success-message {
  color: #166534;
  background: #ecfdf5;
  border: 1px solid #a7f3d0;
  padding: 1rem;
  border-radius: var(--radius);
}

/* Basic fallback: if script sets plain text like "✅ Thanks!" */
#form-error {
  background: #fff;
  border-left: 3px solid transparent;
  padding: .5rem 0;
}

/* === Contact page — roomy panel, inline rows, full-width inputs === */
.contact-form.page-content{
  padding: 2rem 2rem;                /* more breathing room in the panel */
}

.contact-form form{
  max-width: 720px;                  /* comfortable line length */
  margin: 0 auto;                    /* center the form */
}

/* Put each label + control on one line */
.contact-form .form-group{
  display: grid;
  grid-template-columns: 160px 1fr;  /* label | input */
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.contact-form .form-group label{
  margin: 0;                         /* since label sits inline now */
  font-weight: 600;
}

/* Make controls stretch nicely */
.contact-form .form-group input,
.contact-form .form-group textarea{
  width: 100%;
  background: #fff;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: .75rem .85rem;
}

/* Button alignment under the inputs */
.contact-form button[type="submit"]{
  margin-top: .5rem;
  justify-self: start;               /* aligns to left column edge */
  grid-column: 2;                    /* sits under the inputs column */
  padding: .8rem 1.2rem;
  background: var(--brand-blue);
  color: #fff;
  border: 0;
  border-radius: var(--radius);
  font-weight: 600;
  cursor: pointer;
}
.contact-form button[type="submit"]:hover{
  background: #0056b3;
}

/* Error/success block spacing */
#form-error{
  margin: 0 auto 12px;
  max-width: 720px;
}

/* Stack nicely on mobile */
@media (max-width: 700px){
  .contact-form .form-group{
    grid-template-columns: 1fr;      /* label on top, input below */
    gap: 6px;
  }
  .contact-form button[type="submit"]{
    grid-column: 1;
    width: 100%;
  }
}

/* === Nav search === */
.nav-search {
  display: flex; gap: 8px; align-items: center;
  margin-left: 12px;
}
.nav-search input[type="search"]{
  padding: .5rem .65rem;
  border: 1px solid var(--border);
  border-radius: 8px;
  min-width: 180px;
  background: #fff;
}
.nav-search button{
  border: 0; background: #111; color: #fff;
  border-radius: 8px; padding: .5rem .65rem; cursor: pointer;
}
@media (max-width: 720px){
  .nav-search{ width: 100%; margin-top: 8px; }
  .nav-search input[type="search"]{ flex: 1; min-width: 0; }
}

/* === Search page form === */
.search-form{
  display: flex; gap: 8px; align-items: center; margin: .5rem 0 1rem;
}
.search-form input[type="search"]{
  flex: 1; min-width: 240px;
  padding: .6rem .8rem; border: 1px solid var(--border);
  border-radius: 8px; background: #fff;
}
.results-title{ margin: .75rem 0 1rem; }
.visually-hidden{ position:absolute; width:1px; height:1px; margin:-1px; padding:0; overflow:hidden; clip:rect(0 0 0 0); border:0; }

/* --- Keep "Arts & Culture" on one line (desktop) --- */
.site-nav a { white-space: nowrap; }
.nav-links { flex-wrap: nowrap; }           /* prevent wrapping next to search */
@media (max-width: 720px){
  .site-nav a { white-space: normal; }      /* allow wrapping on mobile menu */
  .nav-links { flex-wrap: wrap; }
}

/* --- Minimalist nav search --- */
.nav-search {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: 10px;
}

.nav-search input[type="search"]{
  min-width: 160px;
  padding: .35rem .25rem;
  border: 0;
  border-bottom: 1px solid #d1d5db;   /* thin underline */
  border-radius: 0;                   /* flat */
  background: transparent;            /* blend with header */
  font: inherit;
  color: inherit;
}
.nav-search input[type="search"]::placeholder{ color:#9ca3af; }
.nav-search input[type="search"]:focus{
  outline: none;
  border-bottom-color: #111;          /* darker on focus */
}

.nav-search button{
  border: 0;
  background: transparent;            /* no pill */
  padding: 0;
  line-height: 1;
  cursor: pointer;
  color: #111;
}
.nav-search button:focus-visible{
  outline: 2px solid #82d9ff;
  outline-offset: 2px;
}

/* tighten overall header spacing slightly so items fit */
.nav-inner { gap: .75rem; }


/* --- Header layout tune: brand bolder + search to far right --- */

/* make the brand feel like a title */
.site-header .brand{
  font-weight: 900;                /* thicker */
  font-size: clamp(24px, 2.8vw, 34px);
  letter-spacing: -0.2px;
  color: #0b1221;
  line-height: 1.05;
  margin-left: -2px;               /* nudge a bit further left */
}

/* let the nav fill the row so the search can sit at the far right */
.site-header .site-nav{
  display: flex;
  align-items: center;
  gap: 18px;
  flex: 1;                         /* take remaining space between brand and edge */
}

/* push search to the extreme right inside the nav */
.site-header .nav-search{
  margin-left: auto;               /* pushes it to the right */
}

/* keep “Arts & Culture” on one line (desktop) */
.site-nav a { white-space: nowrap; }
@media (max-width: 720px){
  .site-header .site-nav{ flex-direction: column; align-items: flex-start; }
  .site-header .nav-search{ width: 100%; margin-left: 0; margin-top: 6px; }
  .site-nav a { white-space: normal; }
}

/* minimalist search look (underline style) */
.site-header .nav-search input[type="search"]{
  min-width: 180px;
  padding: .35rem .25rem;
  border: 0;
  border-bottom: 1px solid #d1d5db;
  background: transparent;
  border-radius: 0;
  font: inherit;
  color: inherit;
}
.site-header .nav-search input[type="search"]:focus{
  outline: none;
  border-bottom-color: #111;
}
.site-header .nav-search button{
  border: 0;
  background: transparent;
  padding: 0 .2rem;
  line-height: 1;
  cursor: pointer;
  color: #111;
}
.site-header .nav-search button:focus-visible{
  outline: 2px solid #82d9ff;
  outline-offset: 2px;
}

/* === Header: keep brand on one line (far left) and push search far right === */

/* make header row a tight flex line */
.site-header .nav-inner{
  display:flex;
  align-items:center;
  gap:14px;
}

/* nudge container edges a bit so brand sits further left, search further right */
.site-header .container{
  padding-left:.25rem;   /* was 1rem */
  padding-right:.5rem;   /* a bit tighter on the right too */
}

/* brand: stay on a single line, like a title */
.site-header .brand{
  white-space: nowrap;       /* never wrap “Local Community” */
  word-break: keep-all;
  display:inline-block;
  font-weight: 900;
  font-size: clamp(24px, 2.8vw, 34px);
  letter-spacing: -0.2px;
  margin-right: 10px;        /* tiny breathing room before links */
}

/* nav links occupy the middle; search gets pushed to the far right */
.site-header .site-nav{
  display:flex;
  align-items:center;
  gap:18px;
  flex:1;                    /* take the remaining row width */
  min-width:0;               /* allow shrink so search can reach the edge */
}

/* search: shove to the extreme right */
.site-header .nav-search{
  margin-left:auto;          /* pushes it to the right edge */
}

/* minimalist search input */
.site-header .nav-search input[type="search"]{
  min-width: 220px;          /* a touch wider so it looks intentional */
  padding:.35rem .25rem;
  border:0;
  border-bottom:1px solid #d1d5db;
  background:transparent;
  border-radius:0;
  font:inherit;
  color:inherit;
}
.site-header .nav-search input[type="search"]:focus{
  outline:none;
  border-bottom-color:#111;
}

/* mobile: allow wrapping */
@media (max-width: 720px){
  .site-header .site-nav{ flex-direction:column; align-items:flex-start; }
  .site-header .nav-search{ width:100%; margin-left:0; margin-top:6px; }
  .site-header .nav-search input[type="search"]{ min-width:0; width:100%; }
}
/* === Header: brand hard-left, search hard-right (full-bleed header row) === */

/* make the header container full-width and remove side padding */
.site-header .container{
  max-width: 100%;
  padding-left: 0;
  padding-right: 0;
}

/* add tiny inner padding so the brand isn’t touching the edge */
.site-header .nav-inner{
  display: flex;
  align-items: center;
  gap: 14px;
  padding-left: 8px;   /* <-- move brand to the extreme left */
  padding-right: 8px;  /* keep some breathing room on the right */
}

/* brand title look + no left offset */
.site-header .brand{
  white-space: nowrap;
  font-weight: 900;
  font-size: clamp(24px, 2.8vw, 34px);
  letter-spacing: -0.2px;
  margin-left: 0;      /* absolutely left-aligned */
}

/* nav fills the middle; search pushed to far right */
.site-header .site-nav{
  display: flex;
  align-items: center;
  gap: 18px;
  flex: 1;
  min-width: 0;
}
.site-header .nav-search{ margin-left: auto; }

/* minimalist search */
.site-header .nav-search input[type="search"]{
  min-width: 220px;
  padding: .35rem .25rem;
  border: 0;
  border-bottom: 1px solid #d1d5db;
  background: transparent;
  border-radius: 0;
  font: inherit; color: inherit;
}
.site-header .nav-search input[type="search"]:focus{
  outline: none; border-bottom-color: #111;
}

/* mobile: stack items nicely */
@media (max-width: 720px){
  .site-header .site-nav{ flex-direction: column; align-items: flex-start; }
  .site-header .nav-search{ width: 100%; margin-left: 0; margin-top: 6px; }
  .site-header .nav-search input[type="search"]{ min-width: 0; width: 100%; }
}
/* brand hard-left, links perfectly centered, search hard-right */
.site-header .nav-inner{
  display:flex;
  align-items:center;
  gap:16px;
}

/* title-like brand on one line, left edge */
.site-header .brand{
  white-space: nowrap;
  font-weight: 900;
  font-size: clamp(24px, 2.8vw, 34px);
  letter-spacing: -0.2px;
  margin-left: 0;
}

/* nav links centered in the remaining space */
.site-header .site-nav{
  flex: 1;                      /* takes the middle strip */
  display: flex;
  justify-content: center;      /* <— centers the links */
  align-items: center;
  gap: 18px;
}

/* keep “Arts & Culture” on one line on desktop */
.site-header .site-nav a{ white-space: nowrap; }

/* search sits at far right, minimal underline style */
.site-header .nav-search{ margin-left: auto; }
.site-header .nav-search input[type="search"]{
  min-width: 220px;
  padding: .35rem .25rem;
  border: 0;
  border-bottom: 1px solid #d1d5db;
  background: transparent;
  border-radius: 0;
  font: inherit; color: inherit;
}
.site-header .nav-search input[type="search"]:focus{
  outline: none; border-bottom-color: #111;
}

/* mobile: stack neatly */
@media (max-width: 720px){
  .site-header .nav-inner{ flex-wrap: wrap; }
  .site-header .site-nav{
    order: 3; width: 100%;
    justify-content: flex-start; gap: 12px; flex-wrap: wrap;
  }
  .site-header .nav-search{
    order: 2; width: 100%; margin-left: 0;
  }
  .site-header .nav-search input[type="search"]{ width: 100%; min-width: 0; }
}
.site-header .nav-inner{ display:flex; align-items:center; gap:16px; }
.site-header .brand{
  white-space:nowrap; font-weight:900;
  font-size: clamp(24px, 2.8vw, 34px); letter-spacing:-.2px;
}
.site-header .site-nav{
  flex:1; display:flex; justify-content:center; align-items:center; gap:18px;
}
.site-header .site-nav a{ white-space:nowrap; }
.site-header .nav-search{ margin-left:auto; }
.site-header .nav-search input[type="search"]{
  min-width:220px; padding:.35rem .25rem; border:0;
  border-bottom:1px solid #d1d5db; background:transparent; border-radius:0; font:inherit;
}
.site-header .nav-search input[type="search"]:focus{ outline:none; border-bottom-color:#111; }

/* ===== Area pages: center title + cards ===== */
.area-page { 
  max-width: 1080px;           /* contenitore un filo più stretto */
  margin: 2rem auto; 
  text-align: center;          /* centra i testi del pannello */
}

.area-page h1 { 
  text-align: center; 
  margin-bottom: 1rem; 
}

/* griglia centrata, che riempie da 1 a 3 colonne a seconda dello schermo */
.area-page .card-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 16px;
  justify-content: center;     /* centra la griglia quando ci sono poche card */
  justify-items: center;       /* centra ogni card nella colonna */
}

/* larghezza massima gradevole per le card, testo interno allineato a sinistra */
.area-page .card{
  width: 100%;
  max-width: 520px;
  text-align: left;
}

/* mobile: una colonna piena */
@media (max-width: 640px){
  .area-page .card-grid{
    grid-template-columns: 1fr;
  }
  .area-page .card{
    max-width: 640px;
  }
}
/* === Area cards with image thumbnail === */
.area-card{
  display: grid;
  grid-template-columns: 1fr;
  gap: .75rem;
  text-align: left;
  overflow: hidden;                    /* clip zoom on hover */
}

.area-thumb{
  margin: 0;
  border-radius: 12px;
  overflow: hidden;
  aspect-ratio: 16 / 9;                /* consistent height */
  background: #f3f4f6;
  border: 1px solid var(--border);
}
.area-thumb img{
  width: 100%;
  height: 100%;
  object-fit: cover;                    /* fill crop */
  display: block;
  transition: transform .35s ease;
}
.area-card:hover .area-thumb img{
  transform: scale(1.04);              /* subtle zoom */
}

.area-body h3{
  color: var(--area-title-purple);
  text-decoration: underline;
  margin: 0 0 .25rem;
}
.area-body p{ margin: 0; color: var(--light-text); }

/* tighter layout on small screens */
@media (max-width: 700px){
  .areas-grid-2x2{ gap: 12px; }
}
/* === Brand-blue link styling (global) === */
:root{
  --brand-blue: #007bff;
  --brand-blue-hover: #0056b3; /* darker for hover/focus */
}

/* Make all card titles/links brand blue */
.card a,
.card a:visited{
  color: var(--brand-blue);
  text-decoration: underline;
  font-weight: 700;
}
.card a:hover,
.card a:focus{
  color: var(--brand-blue-hover);
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
  outline: none;
}

/* Keep non-link headings neutral for readability */
.card h2, .card h3 { color: #111827; }

/* Home "intro events" block (ensure blue too) */
.intro-events-block .card a,
.intro-events-block .card a:visited{
  color: var(--brand-blue);
}
.intro-events-block .card a:hover{
  color: var(--brand-blue-hover);
}

/* If you previously set area titles purple, reset them to blue */
.area-card h3{
  color: var(--brand-blue);
  text-decoration: underline;
}
.area-card:hover h3{
  color: var(--brand-blue-hover);
}
/* ===== Activity page polish ===== */
.activity-hero{
  /* soft tinted background behind the quiz panel */
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(0,123,255,.10), transparent 60%),
    radial-gradient(900px 500px at 90% -20%, rgba(109,40,217,.10), transparent 60%);
  padding: 56px 0 84px;         /* more top/bottom space */
}

.activity-wrap{
  max-width: 1100px;            /* WIDER panel */
  margin: 0 auto;
  background: rgba(255,255,255,.92);
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: 0 20px 50px rgba(0,0,0,.08);
  padding: 28px 28px 32px;
}

.activity-wrap h1{
  text-align: center;           /* center the title */
  font-size: clamp(28px, 3.4vw, 42px);
  letter-spacing: -.3px;
  margin-bottom: .25rem;
}

.activity-wrap .subtitle{
  text-align: center;
  color: var(--light-text);
  margin: .25rem 0 1.25rem;     /* extra space after the writing */
}

/* Make the quiz block larger & airier */
#quiz.card{
  max-width: 860px;
  margin: 0 auto 16px;
  padding: 18px 20px;
}

/* Bigger answer buttons */
#quiz .grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 12px;
}
#quiz .grid button{
  padding: .9rem 1rem;
  font-weight: 700;
  border-radius: 10px;
}

/* Stats card centered */
.quiz-stats{
  max-width: 860px;
  margin: 16px auto 0;
  display: flex;
  align-items: center;
  gap: 14px;
}
.quiz-stats #restart{
  background: var(--brand-blue);
  color:#fff;
  border:0;
  padding: .6rem 1rem;
  border-radius: 10px;
}
.quiz-stats #restart:hover{ background: var(--brand-blue-hover); }

/* Mobile tweaks */
@media (max-width: 760px){
  #quiz .grid{ grid-template-columns: 1fr; }
  .activity-wrap{ padding: 22px 18px 26px; }
}

/* === Featured "Live / Next up" with background image === */
.featured-card{
  position: relative;
  overflow: hidden;
  border-radius: 14px;
  padding: 0;                         /* body handles inner padding */
  min-height: 200px;                  /* give it a visible height */
}

.featured-card .featured-media{
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: brightness(.85);
}

.featured-card .featured-media::after{ /* gentle dark gradient for legibility */
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,.45));
}

.featured-card .featured-body{
  position: relative;
  z-index: 1;
  color: #fff;
  padding: 20px 22px;
}

.featured-card .card-title a,
.featured-card .card-title a:visited{
  color: #dbeafe;                     /* light brand-blue for contrast */
  text-decoration: underline;
  font-weight: 800;
}
.featured-card .card-title a:hover{ color: #fff; }
.featured-card .meta strong{ color: #e5e7eb; }
.featured-card .meta time{ color: #f3f4f6; }

/* === Upcoming cards with left image & equal heights === */
.upcoming-mini{
  display: grid;
  grid-template-columns: 1fr 1fr;     /* two columns on desktop */
  gap: 12px;
}
@media (max-width:1024px){
  .upcoming-mini{ grid-template-columns: 1fr; } /* stack on mobile/tablet */
}

.card.mini.has-media{
  display: grid;
  grid-template-columns: 38% 1fr;     /* image | text */
  min-height: 170px;                   /* equalized height */
  overflow: hidden;
  border-radius: 12px;
}

.mini-media{
  background-size: cover;
  background-position: center;
  margin: 6px;                         /* inner gutter so radius looks good */
  border-radius: 10px;
  position: relative;
}

.mini-media::after{                     /* subtle wash for readability */
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.06), rgba(0,0,0,.22));
  border-radius: inherit;
}

.mini-body{
  display: flex;
  flex-direction: column;
  padding: 14px 14px 12px 8px;
}
.mini-body h4{ margin: 0 0 .35rem; }
.mini-body .meta{ margin-bottom: .5rem; color: var(--light-text); }

/* brand blue links inside cards */
.card.mini a, .card.mini a:visited{ color: var(--brand-blue); text-decoration: underline; }
.card.mini a:hover{ color: #0056b3; }

/* === Generic list card with left image (used on area & events pages) === */
.card.list-card.has-media{
  display: grid;
  grid-template-columns: 160px 1fr;   /* image | text */
  min-height: 150px;
  overflow: hidden;
  border-radius: 12px;
}

.list-media{
  background-size: cover;
  background-position: center;
  margin: 8px;                        /* inner gutter */
  border-radius: 10px;
  position: relative;
}
.list-media::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,.18));
  border-radius: inherit;
}

.list-body{
  padding: 12px 14px;
  display: flex;
  flex-direction: column;
}
.list-body h3{ margin: 0 0 .35rem; }
.list-body .meta{ margin-bottom: .5rem; color: var(--light-text); }

@media (max-width: 720px){
  .card.list-card.has-media{ grid-template-columns: 1fr; }
  .list-media{ height: 160px; margin: 8px 8px 0; border-radius: 10px; }
}

/* === Center the cards and give them a squarer, consistent shape === */

/* Center the grid and force consistent tile width */
.page-content .card-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 340px)); /* fixed tile width */
  justify-content: center;  /* centers the row */
  gap: 16px;
}

/* Squarer card + slightly larger image column */
.card.list-card.has-media{
  width: 340px;                 /* matches the grid minmax above */
  grid-template-columns: 130px 1fr;  /* image | text */
  min-height: 210px;            /* gives a squarer feel */
  border-radius: 14px;
}

/* Make the image fill the card height neatly */
.list-media{
  margin: 10px;                 /* inner gutter */
  border-radius: 12px;
  height: calc(100% - 20px);    /* fill the card’s height minus margins */
  background-size: cover;
  background-position: center;
}

/* Mobile: full-width, image on top */
@media (max-width: 720px){
  .page-content .card-grid{
    grid-template-columns: 1fr;
    justify-content: stretch;
  }
  .card.list-card.has-media{
    width: 100%;
    grid-template-columns: 1fr;
    min-height: 0;
  }
  .list-media{
    height: 180px;
    margin: 10px 10px 0;
  }
}
/* === Tile cards with full-bleed background === */
.card.tile-card{
  position: relative;
  width: 340px;              /* feel free to tweak */
  height: 220px;             /* squarish tile */
  overflow: hidden;
  border-radius: 14px;
  color: #fff;               /* text over image */
  display: block;
}

.tile-media{
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: brightness(.92);
}

.tile-media::after{          /* darken lower area for legibility */
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.55) 70%);
}

.tile-body{
  position: absolute;
  left: 12px; right: 12px; bottom: 12px;
  z-index: 1;
}

.tile-body h3{
  margin: 0 0 .25rem;
  line-height: 1.2;
}
.tile-body h3 a, .tile-body h3 a:visited{
  color: #fff;
  text-decoration: underline;
  font-weight: 800;
}

.tile-meta{
  margin: 0 0 .35rem;
  font-size: .9rem;
  color: #f3f4f6;
}

.page-content .card-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 340px));
  justify-content: center;   /* center the row */
  gap: 16px;
}

/* Mobile */
@media (max-width: 720px){
  .card.tile-card{ width: 100%; height: 200px; }
  .page-content .card-grid{ grid-template-columns: 1fr; }
}
/* ===== Event / Community Tiles ===== */
.card.tile-card {
  position: relative;
  width: 340px;
  height: 220px;
  overflow: hidden;
  border-radius: 14px;
  color: #fff;
  display: block;
  text-decoration: none;
}

.tile-media {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
  filter: brightness(0.92);
}

.tile-media::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,0.15), rgba(0,0,0,0.55) 70%);
}

.tile-body {
  position: absolute;
  left: 12px;
  right: 12px;
  bottom: 12px;
  z-index: 1;
}

.page-content .card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(340px, 340px));
  justify-content: center;
  gap: 16px;
}

/* ===== Events grid cards (simple, uniform) ===== */
.events-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap:16px;
}

.event-card{
  display:block;
  position:relative;
  height:220px;
  border-radius:12px;
  overflow:hidden;
  background:#111;
  color:#fff;
  text-decoration:none;
  box-shadow:0 8px 16px rgba(0,0,0,.12);
}
.event-card::before{
  content:"";
  position:absolute; inset:0;
  background-image: var(--bg);
  background-size:cover;
  background-position:center;
  filter:brightness(.9);
}
.event-card::after{
  content:"";
  position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.05) 0%, rgba(0,0,0,.55) 70%);
}
.event-card__body{
  position:absolute; left:14px; right:14px; bottom:12px; z-index:1;
}
.event-card__title{
  margin:0 0 4px 0;
  font-size:1.05rem; line-height:1.25rem; font-weight:800;
  text-shadow:0 1px 2px rgba(0,0,0,.4);
}
.event-card__meta{
  margin:0 0 6px 0; font-size:.9rem; opacity:.9;
}
.event-card__summary{
  margin:.35rem 0 0 0; font-size:.9rem; opacity:.95;
}

.badge{
  display:inline-block; padding:.25rem .55rem; border-radius:999px; font-size:.75rem; font-weight:700;
  background:#fff; color:#111;
  margin-right:.35rem;
}
.badge-upcoming{ background:#e6ffed; color:#065f46; border:1px solid #a7f3d0; }
.badge-past{ background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }

/* ===== Area page tidy ===== */
.area-page .filters {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: flex-end;
}

.area-page .filters label {
  display: flex;
  flex-direction: column;
  gap: 6px;
  font-weight: 600;
}

.area-page select,
.area-page input[type="checkbox"] {
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  background: #fff;
  min-width: 160px;
}

/* Results wrapper is a separate panel */
.area-list { margin-top: 0; }

/* Responsive grid for tiles */
.tiles-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 16px;
}

/* Card-style tiles */
.tile {
  position: relative;
  overflow: hidden;
  border-radius: 12px;
  background: #fff;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

/* Image banner */
.tile-media {
  height: 180px;                  /* keeps cards uniform */
  background: var(--bg, #eee) center / cover no-repeat;
  position: relative;
}

/* Soft dark gradient on top of media for text legibility (if needed later) */
.tile-media::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.05));
}

/* Body content */
.tile-body {
  padding: 12px;
}

.tile-title {
  display: inline-block;
  font-weight: 700;
  margin-bottom: 6px;
  text-decoration: none;
  color: inherit;
}

.tile .meta {
  font-size: .9rem;
  color: var(--light-text);
  margin-bottom: 6px;
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Status chips */
.badge { display:inline-block; padding:.2rem .5rem; border-radius:9999px; font-size:.75rem; line-height:1; }
.badge-upcoming{ background:#e6ffed; color:#065f46; border:1px solid #a7f3d0; }
.badge-past{ background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }

/* Small screens */
@media (max-width: 700px){
  .area-page .filters label { width: 100%; }
}
/* Center page titles on content pages */
.page-content > h1,
.container.page-content > h1 {
  text-align: center;
  margin-bottom: 18px;
}
/* Make over-image text readable */
.card.tile,
.card.mini.has-media,
.tile {
  position: relative;
  overflow: hidden;
}

/* The image layer (you already have something similar) */
.tile-media,
.mini-media,
.featured-media {
  position: absolute;
  inset: 0;
  background-size: cover;
  background-position: center;
}

/* Darken overlay so white text pops */
.tile-media::after,
.mini-media::after,
.featured-media::after {
  content: "";
  position: absolute;
  inset: 0;
  /* subtle top-to-bottom gradient + slight global darken */
  background:
    linear-gradient(180deg, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.55) 70%),
    rgba(0,0,0,0.10);
}

/* The text block that sits on top of the media */
.tile-body,
.mini-body,
.featured-body,
.card .tile-body,
.card .mini-body {
  position: relative;
  z-index: 1;
  color: #fff;
  text-shadow: 0 1px 2px rgba(0,0,0,.35);
}

/* Links inside headings white, with nice hover */
.tile-body h2 a,
.tile-body h3 a,
.mini-body h4 a,
.card .tile-body h2 a,
.card .tile-body h3 a,
.card .mini-body h4 a {
  color: #fff;
  text-decoration-color: rgba(255,255,255,.5);
}
.tile-body h2 a:hover,
.tile-body h3 a:hover,
.mini-body h4 a:hover {
  text-decoration-color: rgba(255,255,255,.95);
}

/* Meta text white-ish and readable */
.card .meta,
.tile-body .meta,
.mini-body .meta {
  color: rgba(255,255,255,.9);
}

/* Keep badges on top & crisp */
.badge {
  position: relative;
  z-index: 2;
  box-shadow: 0 1px 2px rgba(0,0,0,.25);
}
/* Force *all* overlay text on tiles to white, including titles/links */
.tile-body,
.mini-body,
.featured-body {
  color: #fff;
}

.tile-body *,
.mini-body *,
.featured-body * {
  color: #fff !important;          /* ensures anchors/strong/em inherit */
  text-shadow: 0 1px 2px rgba(0,0,0,.45);
}

/* Keep link states white too */
.tile-body a,
.mini-body a,
.featured-body a {
  color: #fff !important;
  text-decoration-color: rgba(255,255,255,.5);
}
.tile-body a:hover,
.mini-body a:hover,
.featured-body a:hover {
  text-decoration-color: rgba(255,255,255,.95);
}
.tile-body a:visited,
.mini-body a:visited,
.featured-body a:visited {
  color: #fff !important;
}

.activity-hero {
  background: linear-gradient(135deg, #4f46e5, #06b6d4);
  padding: 4rem 1rem;
  color: #fff;
}

.activity-hero h1 {
  font-size: 2rem;
  margin-bottom: 1rem;
  text-align: center;
}

.scoreboard {
  margin: 1.5rem 0;
  display: flex;
  justify-content: center;
  gap: 2rem;
  align-items: center;
}

#quiz {
  margin-top: 2rem;
  background: #fff;
  padding: 2rem;
  border-radius: 8px;
  color: #000;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

#quiz h2 {
  margin-bottom: 1rem;
}

#quiz .grid {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}

#quiz .answer {
  padding: 1rem;
  border: 2px solid #ddd;
  border-radius: 6px;
  cursor: pointer;
  transition: all .2s;
}

#quiz .answer:hover {
  background: #f9fafb;
}

#quiz .answer.correct {
  background: #ecfdf5;
  border-color: #10b981;
}

#quiz .answer.wrong {
  background: #fef2f2;
  border-color: #ef4444;
}
/* ===================== Activity page (centered, high-contrast, cards) ===================== */

.activity-hero{
  background: transparent;
  padding: 72px 0 96px;                  /* space from header & footer */
}

.activity-wrapper{
  max-width: 960px;                      /* keep everything in the middle */
  margin: 0 auto;
  text-align: center;
  color: #111;                           /* high contrast text */
}

/* Title + subtitle */
.activity-wrapper h1{
  margin: 0 0 10px;
  font-size: clamp(28px, 3.2vw, 40px);
  font-weight: 800;
  letter-spacing: -.2px;
  color: #0b1221;                        /* strong heading color */
}
.activity-wrapper .intro{
  margin: 0 auto 18px;
  max-width: 680px;
  color: #1f2937;                        /* readable dark gray */
}

/* Scoreboard as a small card */
.scoreboard{
  display: inline-flex;
  align-items: center;
  gap: 18px;
  margin: 0 auto 18px;
  padding: 10px 14px;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  color: #111;
}
#restart{
  padding: .55rem .9rem;
  border-radius: 10px;
  border: 2px solid #2563eb;            /* accessible blue */
  background: #fff;
  color: #111;
  font-weight: 700;
  cursor: pointer;
}
#restart:hover{ background:#2563eb; color:#fff; }

/* Main quiz card (centered, wider) */
#quiz.quiz-box{
  max-width: 820px;                      /* wider question area */
  margin: 0 auto;
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 14px;
  padding: 20px 22px;
  box-shadow: 0 12px 28px rgba(0,0,0,.08);
}
#quiz h2{
  margin: 0 0 12px;
  font-size: 1.15rem;
  font-weight: 800;
  color: #111;
}

/* Answers laid out as “cards” */
#quiz .grid{
  display: grid;
  grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 12px;
}
@media (max-width: 760px){
  #quiz .grid{ grid-template-columns: 1fr; }
}

#quiz .answer{
  display: block;
  width: 100%;
  min-height: 48px;
  padding: .95rem 1rem;
  border-radius: 12px;
  border: 2px solid #2563eb;
  background: #f9fafb;
  color: #111;
  font-weight: 700;
  cursor: pointer;
  transition: background .15s, border-color .15s, transform .05s;
  box-shadow: 0 2px 6px rgba(0,0,0,.05);
}
#quiz .answer:hover{ background:#e0f2fe; }
#quiz .answer:active{ transform: translateY(1px); }
#quiz .answer:focus{ outline: 3px solid #93c5fd; outline-offset: 2px; }
#quiz .answer.correct{ background:#d1fae5; border-color:#10b981; color:#065f46 !important; }
#quiz .answer.wrong{ background:#fee2e2; border-color:#ef4444; color:#991b1b !important; }

/* ==== Ultra-slim mobile header (no overlap) ==== */
:root{
  --hdr-mobile-h: 46px; /* was 56px */
}

@media (max-width: 720px){
  header.site-header{
    padding: .35rem .5rem;
    min-height: var(--hdr-mobile-h);
  }

  header.site-header .brand{
    font-size: clamp(18px, 4.2vw, 22px); /* smaller title on phones */
    line-height: 1; 
    margin-right: .4rem;
  }

  header.site-header .container{ align-items: center; gap: .5rem; }

  .site-header .site-nav{
    gap: .5rem;
  }
  .site-header .site-nav a{
    font-size: .9rem;
    line-height: 1;
    padding-bottom: 0;
  }

  .site-header .nav-search input[type="search"]{
    height: 26px; line-height: 26px; padding: 0 .4rem;
    min-width: 120px;
  }

  /* open mobile menu layout */
  .nav-links.is-open a{
    font-size: 1rem; line-height: 1.3; margin: 4px 0;
  }

  /* keep content clear of sticky header */
  main{ padding-top: calc(var(--hdr-mobile-h) + 8px); }
  [id]{ scroll-margin-top: calc(var(--hdr-mobile-h) + 10px); }
}
/* ===== Mobile header quick bar (phone only) ===== */
.mobile-header-bar{ display:none; }

@media (max-width: 720px){
  /* keep your existing desktop header as-is, but reduce its height a bit if needed */
  header.site-header{ padding:.5rem .75rem; }

  /* hide the usual wide nav/search on phones (adjust selectors to match yours) */
  .nav-links,
  .nav-search { display:none !important; }

  /* show the mobile quick bar */
  .mobile-header-bar{
    display:flex;
    flex-direction:column;
    gap:.5rem;
    padding:.5rem .75rem 0;     /* sits right under the header content */
    background:transparent;     /* inherits header bg/show-through */
  }

  /* quick area links */
  .mobile-areas{
    display:flex;
    flex-wrap:wrap;
    gap:.5rem .75rem;
  }
  .mobile-areas a{
    text-decoration:none;
    font-weight:600;
    font-size:.95rem;
    padding:.4rem .6rem;
    border:1px solid var(--border, #e5e7eb);
    border-radius:999px;
    background:#fff;
    color:#111;
  }

  /* compact search */
  .mobile-search{
    display:flex;
    align-items:center;
    gap:.35rem;
  }
  .mobile-search input[type="search"]{
    flex:1;
    min-width:0;
    padding:.5rem .6rem;
    border:1px solid var(--border, #e5e7eb);
    border-radius:8px;
    background:#fff;
    font-size:.95rem;
  }
  .mobile-search button{
    border:1px solid var(--border, #e5e7eb);
    background:#111; color:#fff;
    padding:.45rem .6rem;
    border-radius:8px;
    line-height:1;
    cursor:pointer;
  }
  .mobile-search button:active{ transform: translateY(1px); }
}

