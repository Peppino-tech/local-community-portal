/* ==========================================================================
   Local Community Portal â€“ Stylesheet
   Sections:
   1) Variables & Reset
   2) Base & Layout
   3) Header & Navigation
   4) Home & Areas (hero, sections, image-frame)
   5) Components (cards, buttons, forms)
   6) Footer
   7) Utilities (skip link, badges, grids, filters, sr-only, helpers)
   8) Responsive & motion prefs
   ========================================================================== */

/* 1) Variables & Reset */
:root{
  --brand-color:#007bff;
  --text-color:#333;
  --light-text:#666;
  --background-color:#f4f7f6;
  --card-background:#fff;
  --border-color:#e0e0e0;
  --container-width:1100px;
  --border-radius:8px;
  --box-shadow:0 4px 12px rgba(0,0,0,.08);
}
*{ box-sizing:border-box; margin:0; padding:0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.6;
  color: var(--text-color);
  background: url('/images/background.jpg') center center / cover no-repeat fixed;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

main{ flex-grow:1; }
.container{ max-width:var(--container-width); margin:0 auto; padding:0 1rem; }
img,video{ max-width:100%; height:auto; }

/* 3) Header & Navigation */
header{
  background-color:rgba(255,255,255,.9);
  backdrop-filter:blur(5px);
  border-bottom:1px solid var(--border-color);
  padding:1rem 0; position:sticky; top:0; z-index:10;
}
header .container{ display:flex; justify-content:space-between; align-items:center; gap:1rem; }

.site-nav .brand,
.site-nav .brand:link,
.site-nav .brand:visited{
  color:#6b7280; font-weight:800;
  font-size:clamp(22px,2.4vw,32px);
  text-decoration:none; line-height:1;
}
.site-nav .brand:hover{ color:#374151; }

.nav-inner{ display:flex; align-items:center; gap:16px; }
.brand{ margin-right:auto; }

.nav-links{ display:flex; gap:18px; }
header nav a{
  text-decoration:none; color:var(--light-text); font-weight:600;
  padding-bottom:.25rem; border-bottom:2px solid transparent;
  transition:color .2s, border-color .2s;
}
header nav a:hover{ color:var(--text-color); }
header nav a.active{ color:var(--brand-color); border-bottom-color:var(--brand-color); }

/* Mobile hamburger */
.nav-toggle{
  display:none; background:#1d4ed8; color:#fff; border:0; border-radius:14px;
  width:56px; height:56px; font-size:22px; cursor:pointer;
  align-items:center; justify-content:center;
}

/* 4) Home & Areas */
.hero{
  position:relative; color:#fff; text-align:center; padding:5rem 1rem; background:#007bff;
}
.hero::before{
  content:''; position:absolute; inset:0; background:rgba(0,0,0,.4); z-index:1;
}
.hero .container{ position:relative; z-index:2; }
.hero h1{ font-size:2.8rem; text-shadow:2px 2px 8px rgba(0,0,0,.7); }
.hero .subtitle{ font-size:1.3rem; color:#eee; text-shadow:1px 1px 4px rgba(0,0,0,.7); }

.area-section{
  min-height:80vh; display:flex; justify-content:center; align-items:center;
  padding:2rem; color:#fff; position:relative; background:#007bff;
}
.area-section::before{
  content:''; position:absolute; inset:0; background:rgba(0,0,0,.5); z-index:1;
}
.area-section .area-content{ position:relative; z-index:2; max-width:700px; }
.area-section h2{ font-size:3.5rem; margin-bottom:1rem; text-shadow:2px 2px 8px rgba(0,0,0,.7); }
.area-section p{ font-size:1.3rem; margin-bottom:2rem; color:#eee; text-shadow:1px 1px 4px rgba(0,0,0,.7); }

.image-frame{
  width:90%; max-width:1200px;
  border:4px solid #fff; border-radius:var(--border-radius);
  padding:8rem 4rem; background:rgba(0,0,0,.3); backdrop-filter:blur(5px);
  position:relative; z-index:2; text-align:center;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
}

/* Upcoming events (plain background, no image) */
.upcoming-events{
  background:var(--background-color);
  position:relative; z-index:5; width:100%;
  padding:6rem 0; margin:0;
}
.upcoming-events .container{ position:relative; z-index:2; padding:0 1rem; }
.upcoming-events h2{
  text-align:center; margin-bottom:2rem; font-size:2.8rem; color:var(--text-color);
}

/* Page wrapper */
.page-content{
  background:var(--background-color);
  border-radius:var(--border-radius);
  box-shadow:0 8px 30px rgba(0,0,0,.15);
  padding:3rem; margin:2rem auto; max-width:var(--container-width);
  position:relative; z-index:5;
}
.upcoming-events h2, .page-content h1{
  text-align:center; margin-bottom:2rem; font-size:2.5rem; color:var(--text-color);
}

/* 5) Components */
.card{
  background:var(--card-background);
  border:1px solid var(--border-color);
  border-radius:var(--border-radius);
  padding:1.5rem;
  box-shadow:var(--box-shadow);
  transition:transform .2s, box-shadow .2s;
}
.card:hover{ transform:translateY(-5px); box-shadow:0 6px 20px rgba(0,0,0,.1); }
a.card{ text-decoration:none; color:inherit; }
.card h3{ margin-bottom:.5rem; }
.card .meta{ color:var(--light-text); font-size:.9rem; margin-bottom:1rem; }

.grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:1.5rem; }

.area-description p{ font-size:1.1rem; line-height:1.7; }

.btn-outline{
  display:inline-block; padding:.8rem 1.8rem;
  border:2px solid #fff; border-radius:var(--border-radius);
  color:#fff; text-decoration:none; font-weight:600; font-size:1rem;
  transition:background-color .2s, color .2s;
}
.btn-outline:hover{ background:#fff; color:var(--text-color); }

/* Forms */
.form-group{ margin-bottom:1.5rem; }
.form-group label{ display:block; font-weight:600; margin-bottom:.5rem; }
.form-group input, .form-group textarea{
  width:100%; padding:.75rem; border:1px solid var(--border-color);
  border-radius:var(--border-radius); font-size:1rem; font-family:inherit;
}
button{
  background:var(--brand-color); color:#fff; border:none; padding:.8rem 1.5rem;
  border-radius:var(--border-radius); font-size:1rem; font-weight:600;
  cursor:pointer; transition:background-color .2s;
}
button:hover{ background:#0056b3; }
.success-message{
  color:#28a745; background:#e9f7ec; border:1px solid #a3e0b0;
  padding:1rem; border-radius:var(--border-radius);
}
.error-message{ color:#dc3545; margin-bottom:1rem; font-weight:600; }

/* 6) Footer */
footer{
  text-align:center; padding:2rem 0; color:#fff; background:transparent;
  text-shadow:1px 1px 4px rgba(0,0,0,.8); font-size:1.1rem;
}

/* 7) Utilities */
.skip-link{
  position:absolute; left:-9999px; top:0; background:#000; color:#fff;
  padding:8px 12px; z-index:1000; text-decoration:none; border-radius:4px;
}
.skip-link:focus{ left:8px; }

.badge{
  display:inline-block; padding:.25rem .5rem; border-radius:9999px;
  font-size:.75rem; line-height:1; vertical-align:middle;
}
.badge-upcoming{ background:#e6ffed; color:#065f46; border:1px solid #a7f3d0; }
.badge-past{ background:#fee2e2; color:#991b1b; border:1px solid #fecaca; }

.card-grid{ display:grid; grid-template-columns:repeat(3, 1fr); gap:16px; }

.filters{ display:flex; flex-direction:column; gap:12px; }
.filters-row{ display:flex; flex-wrap:wrap; align-items:flex-end; gap:12px; }
.filters-row label{ display:flex; flex-direction:column; gap:6px; font-weight:600; }
.filters-row select,
.filters-row input[type="search"],
.filters-row input[type="text"]{
  padding:10px 12px; border:1px solid var(--border-color);
  border-radius:var(--border-radius); background:#fff; min-width:180px;
}
.filters-row .checkbox{ flex-direction:row; align-items:center; gap:8px; font-weight:500; }
.filters-row input[type="search"]{ width:100%; }
.grow{ flex:1 1 320px; }
.pager{ margin-left:auto; display:flex; gap:8px; }

.sr-only{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,1px,1px); white-space:nowrap; border:0;
}

.quiz-stats{ margin-top:1rem; display:flex; gap:.75rem; align-items:center; }

.input-error{ border-color:#ef4444 !important; outline:2px solid rgba(239,68,68,.25); }

/* 8) Responsive & motion prefs */
@media (max-width:1024px){
  .card-grid{ grid-template-columns:repeat(2, 1fr); }
}
@media (max-width:720px){
  .nav-toggle{ display:inline-flex; }
  .nav-links{ display:none; flex-direction:column; width:100%; margin-top:10px; }
  .nav-links.is-open{ display:flex; }
}
@media (max-width:640px){
  .card-grid{ grid-template-columns:1fr; }
}
@media (prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important; }
}
/* === Home intro panel === */
.intro-panel{
  background:#f5f7fb; /* soft grey */
  padding: 3rem 0;
}
.intro-inner{
  display:grid;
  grid-template-columns: 1.2fr 1fr;
  gap: 24px;
  align-items: start;
}
.intro-copy .lead{
  margin: .5rem 0 1rem;
  color: var(--light-text);
  max-width: 48ch;
}
.btn.btn-primary{
  background: var(--brand-color);
  color: #fff;
  border: none;
  padding: .8rem 1.2rem;
  border-radius: var(--border-radius);
  display: inline-block;
  text-decoration: none;
}
.eyebrow{
  text-transform: uppercase;
  font-size: .75rem;
  letter-spacing: .06em;
  color: #6b7280;
  margin-bottom: .25rem;
}
.card.highlight{
  background: #fff;
  border: 1px solid var(--border-color);
}
.card-title{ margin: .25rem 0 .5rem; }
.intro-events .upcoming-mini{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 12px;
}
.card.mini{ padding: 1rem; }

/* === Areas grid (2 per row, grows to 3 on wide) === */
.areas-section{ padding: 2.5rem 0; text-align: center; }
.areas-section .muted{ color: var(--light-text); margin-bottom: 1rem; }
.areas-grid{
  margin-top: 1rem;
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
}
.area-card{ text-align: left; }

/* Responsive tweaks for intro + areas */
@media (max-width: 900px){
  .intro-inner{ grid-template-columns: 1fr; }
}
@media (max-width: 640px){
  .intro-events .upcoming-mini{ grid-template-columns: 1fr; }
  .areas-grid{ grid-template-columns: 1fr; }
}
@media (min-width: 1200px){
  .areas-grid{ grid-template-columns: repeat(3, 1fr); }
}

/* Intro: force single column for the welcome block */
.intro-inner.one-col {
  display: grid;
  grid-template-columns: 1fr;
}

/* Events block beneath intro */
.intro-events-block {
  padding: 1rem 0 2rem;
}

/* Ensure the mini cards form two columns on medium+ screens */
.intro-events-block .upcoming-mini {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
@media (max-width: 640px) {
  .intro-events-block .upcoming-mini { grid-template-columns: 1fr; }
}

/* Center the welcome block on the intro panel */
.intro-panel .intro-copy{
  max-width: 720px;
  margin: 0 auto;            /* centers the block */
  text-align: center;        /* centers the text */
}
.intro-panel .intro-copy .lead{
  margin-left: auto;
  margin-right: auto;
}
.intro-panel .btn.btn-primary{
  display: inline-block;
  margin: 1rem auto 0;       /* centers the button under the text */
}

/* --- Unify link color for cards/titles (events + areas) --- */
:root{
  --link-color: #6d28d9;        /* purple */
  --link-color-hover: #5b21b6;  /* a bit darker on hover */
}

/* Featured + upcoming cards (under the welcome) */
.intro-events-block .card a,
.intro-events-block .card a:visited{
  color: var(--link-color);
  text-decoration: underline;
}
.intro-events-block .card a:hover,
.intro-events-block .card a:focus{
  color: var(--link-color-hover);
}

/* If you still use the "Upcoming Events" strip anywhere */
.upcoming-events .card a,
.upcoming-events .card a:visited{
  color: var(--link-color);
  text-decoration: underline;
}
.upcoming-events .card a:hover,
.upcoming-events .card a:focus{
  color: var(--link-color-hover);
}

/* Area cards: make the titles purple too */
.areas-section .card h3{
  color: var(--link-color);
}

/* Center the single last card in the upcoming mini grid */
.intro-events-block .upcoming-mini {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.intro-events-block .upcoming-mini > .card:last-child{
  grid-column: 1 / -1;      /* span full row */
  max-width: 520px;          /* keep it neat */
  justify-self: center;      /* center it */
}

/* Center the last area card (e.g., Sports) on its own row */
.areas-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}
.areas-grid > .card:last-child{
  grid-column: 1 / -1;
  max-width: 520px;
  justify-self: center;
}

/* Responsive: keep centering on small screens (single column anyway) */
@media (max-width: 900px){
  .intro-events-block .upcoming-mini { grid-template-columns: 1fr; }
  .areas-grid { grid-template-columns: 1fr; }
}

/* Center the single last card in the upcoming mini grid */
.intro-events-block .upcoming-mini {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
.intro-events-block .upcoming-mini > .card:last-child{
  grid-column: 1 / -1;      /* span full row */
  max-width: 520px;          /* keep it neat */
  justify-self: center;      /* center it */
}

/* Center the last area card (e.g., Sports) on its own row */
.areas-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}
.areas-grid > .card:last-child{
  grid-column: 1 / -1;
  max-width: 520px;
  justify-self: center;
}

/* Responsive: keep centering on small screens (single column anyway) */
@media (max-width: 900px){
  .intro-events-block .upcoming-mini { grid-template-columns: 1fr; }
  .areas-grid { grid-template-columns: 1fr; }
}
